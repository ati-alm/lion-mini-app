<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Lion Mini App ğŸ¦</title>
<script src="https://unpkg.com/@farcaster/farcaster-mini-app-sdk"></script>
<style>
  body {
    text-align: center;
    margin-top: 50px;
    font-family: sans-serif;
    background: linear-gradient(to bottom, #ffe6b3, #ffcc66);
  }
  h1 {
    font-size: 32px;
    color: #663300;
  }
  .btn-img {
    width: 120px;
    height: 120px;
    margin: 15px;
    border: 3px solid #663300;
    border-radius: 15px;
    cursor: pointer;
    transition: transform 0.2s;
  }
  .btn-img:hover {
    transform: scale(1.1);
  }
  #msg {
    font-size: 22px;
    margin-top: 20px;
    color: #660000;
  }
</style>
</head>
<body>

<h1>Lion Mini App ğŸ¦</h1>

<img src="lion.png" class="btn-img" onclick="play('shir')" alt="Ø´ÛŒØ±">
<img src="line.png" class="btn-img" onclick="play('khat')" alt="Ø®Ø·">
<p id="msg"></p>

<script>
  // SDK Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯
  window.farcaster?.actions.ready();

  async function play(choice) {
    try {
      const res = await fetch("https://lion-game-backend-qoocpcy1u-atis-projects-add30e7d.vercel.app/play", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          fid: window.farcaster?.fid || "12345",
          wallet: window.farcaster?.wallet || "0xYourWalletAddress",
          guess: choice
        })
      });

      const data = await res.json();
      document.getElementById("msg").innerText =
        data.win ? `Ø¨Ø±Ø¯ÛŒ ğŸ‰ 10 LION Ú¯Ø±ÙØªÛŒ` : `Ø¨Ø§Ø®ØªÛŒ âŒ Ø­Ø¯Ø³ Ø¨Ø¹Ø¯ÛŒ ÙØ±Ø¯Ø§`;
    } catch (err) {
      document.getElementById("msg").innerText = "Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ±";
      console.error(err);
    }
  }
</script>

</body>
</html>
